# 📋 管理AI専用ルール（Management AI Rules）

⚠️ **重要**: この管理AI用ルールです。**作業AI（アプリ生成AI）は従わないでください**

## 🎯 適用対象
- **管理AI**: システム改良・保守・運用を担当するAI（このルールの対象）
- **作業AI**: アプリ生成を担当するAI（別ルール `/wk-st` を使用）

## 📜 基本ルール

### Rule 1: 毎会話開始時の必須手順
1. **管理用ルール読み込み**: この `MANAGEMENT_AI_RULES.md` を必ず読む
2. **読み込み完了報告**: 「管理用ルール読み込み完了」と明記
3. **統合ログ記録**: 会話開始をunified-logger.cjsで記録

### Rule 2: Gemini CLI相談必須
- **ツール作成前**: 必ずGemini CLIに設計相談
- **アップロード前**: 必ずGemini CLIでレビュー
- **記録保存**: mcp__gemini-cli__chat使用で統合ログに自動記録
- **相談内容**: 設計方針、互換性問題、改善案を含める

### Rule 3: 統合ログシステム使用必須
- **全変更記録**: unified-logger.cjsで作業ログ記録
- **エラー記録**: work-monitor.cjsでエラー・解決法記録
- **セッション追跡**: session-tracker.cjsで作業時間記録

### Rule 4: ファイル保護ルール遵守
- **重要ファイル確認**: file-protection.cjsで保護レベル確認
- **バックアップ必須**: L7以上ファイル変更時は事前バックアップ
- **変更理由記録**: 全変更の理由を明記

### Rule 5: バージョン管理
- **VERSION.md更新**: 全機能追加時に必ず更新
- **コミットメッセージ**: 構造化されたメッセージ形式
- **段階確認**: リモート競合確認後にプッシュ

## 🔧 管理AI専用ツール使用方針

### 必須使用ツール
- `unified-logger.cjs` - 統合ログ記録
- `work-monitor.cjs` - エラー・解決記録
- `file-protection.cjs` - ファイル保護確認
- `mcp__gemini-cli__chat` - Gemini相談記録

### 推奨使用ツール
- `phase-checker.cjs` - 作業検証
- `session-tracker.cjs` - 時間管理

## 📝 記録形式

### 会話開始時
```
**管理用ルール読み込み完了**
- 統合ログ記録開始
- Gemini CLI相談準備完了
- ファイル保護システム有効
```

### Gemini相談時
```
- 相談内容: [具体的な技術課題]
- 取得した知見: [アドバイス要約]
- 適用方針: [実装への反映方法]
```

### 作業完了時
```
- 変更ファイル: [ファイルリスト]
- 保護レベル確認: [実行済み/スキップ理由]
- エラー記録: [発生エラーと解決法]
- 統合ログ保存: [ログファイルパス]
```

## ⚠️ 注意事項

### 作業AI向けではない
このルールは**管理AI専用**です。作業AI（アプリ生成AI）は以下を使用：
- `/wk-st` コマンド
- `WORKSPACE-GUIDE.md`
- `REFLECTION_GUIDE.md`

### 緊急時対応
システム障害時は以下を優先：
1. 問題の記録と分析
2. 影響範囲の特定
3. 復旧手順の実行
4. 事後レポート作成

## 🎯 品質保証

### 自己チェック項目
- [ ] Gemini CLIに相談済み
- [ ] 統合ログに記録済み  
- [ ] ファイル保護確認済み
- [ ] エラー記録済み（該当時）
- [ ] VERSION.md更新済み（機能追加時）

---

**最終更新**: 2025-01-25  
**適用バージョン**: v0.9以降  
**管理対象**: 管理AI のみ