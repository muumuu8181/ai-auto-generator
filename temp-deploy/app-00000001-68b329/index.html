<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ°ç†ãƒ»åœ°çƒç§‘å­¦çµ±åˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            overflow-x: hidden;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tab-container {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            margin: 20px;
            border-radius: 15px;
            overflow: hidden;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            background: rgba(0,0,0,0.2);
        }

        .tab {
            flex: 1;
            min-width: 120px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            font-size: 0.9em;
        }

        .tab:hover {
            background: rgba(255,255,255,0.1);
        }

        .tab.active {
            background: rgba(255,255,255,0.2);
            border-bottom-color: #4fc3f7;
        }

        .content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.5s ease-in;
        }

        .content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section {
            background: rgba(255,255,255,0.1);
            margin: 20px 0;
            padding: 25px;
            border-radius: 12px;
            backdrop-filter: blur(5px);
        }

        .section h3 {
            color: #4fc3f7;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.15);
        }

        .card h4 {
            color: #81c784;
            margin-bottom: 10px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            align-items: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .control-group label {
            font-size: 0.9em;
            color: #b0bec5;
        }

        select, input[type="range"], input[type="number"], button {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            background: rgba(255,255,255,0.2);
            color: #fff;
            font-size: 0.9em;
        }

        select option {
            background: #2a5298;
            color: #fff;
        }

        button {
            background: linear-gradient(45deg, #4fc3f7, #29b6f6);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        button:hover {
            background: linear-gradient(45deg, #29b6f6, #0288d1);
            transform: translateY(-2px);
        }

        .visualization {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        canvas {
            border-radius: 8px;
            max-width: 100%;
            height: auto;
        }

        .info-panel {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .data-table th {
            background: rgba(255,255,255,0.1);
            color: #4fc3f7;
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider-container input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }

        .slider-value {
            background: rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            min-width: 60px;
            text-align: center;
        }

        .alert {
            background: rgba(255,152,0,0.2);
            border: 1px solid #ff9800;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .alert.warning {
            background: rgba(244,67,54,0.2);
            border-color: #f44336;
        }

        .alert.info {
            background: rgba(33,150,243,0.2);
            border-color: #2196f3;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4caf50, #8bc34a);
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                min-width: unset;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            background: rgba(255,255,255,0.1);
            padding: 5px 10px;
            border-radius: 4px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }

        .scenario-builder {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .parameter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸŒ åœ°ç†ãƒ»åœ°çƒç§‘å­¦çµ±åˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
        <p>æ°—å€™å¤‰å‹•ãƒ»ç½å®³äºˆæ¸¬ãƒ»åœ°å½¢è§£æã®çµ±åˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </p>
    </div>

    <div class="tab-container">
        <div class="tabs">
            <div class="tab active" onclick="showTab('overview')">æ¦‚è¦</div>
            <div class="tab" onclick="showTab('climate')">æ°—å€™å¤‰å‹•</div>
            <div class="tab" onclick="showTab('disaster')">ç½å®³äºˆæ¸¬</div>
            <div class="tab" onclick="showTab('terrain')">åœ°å½¢è§£æ</div>
            <div class="tab" onclick="showTab('gis')">GISçµ±åˆ</div>
            <div class="tab" onclick="showTab('scenarios')">ã‚·ãƒŠãƒªã‚ª</div>
            <div class="tab" onclick="showTab('education')">æ•™è‚²</div>
            <div class="tab" onclick="showTab('analysis')">ãƒ‡ãƒ¼ã‚¿åˆ†æ</div>
        </div>

        <!-- æ¦‚è¦ã‚¿ãƒ– -->
        <div id="overview" class="content active">
            <div class="section">
                <h3>ğŸŒ åœ°çƒç§‘å­¦çµ±åˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h3>
                <p>æ°—å€™å¤‰å‹•ã€è‡ªç„¶ç½å®³ã€åœ°å½¢å¤‰åŒ–ã‚’çµ±åˆçš„ã«è§£æãƒ»äºˆæ¸¬ã™ã‚‹å…ˆé€²çš„ãªã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚</p>
                
                <div class="grid">
                    <div class="card">
                        <h4>ğŸŒ¡ï¸ æ°—å€™å¤‰å‹•ãƒ¢ãƒ‡ãƒªãƒ³ã‚°</h4>
                        <p>å…¨çƒãƒ»åœ°åŸŸæ°—å€™ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹æ¸©æš–åŒ–äºˆæ¸¬ã€æ¥µç«¯æ°—è±¡ã®é »åº¦å¤‰åŒ–ã€æµ·é¢ä¸Šæ˜‡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</p>
                    </div>
                    <div class="card">
                        <h4>âš¡ è‡ªç„¶ç½å®³äºˆæ¸¬</h4>
                        <p>åœ°éœ‡ãƒ»æ´¥æ³¢ãƒ»å°é¢¨ãƒ»æ´ªæ°´ãƒ»åœŸç ‚ç½å®³ãƒ»ç«å±±å™´ç«ã®ç™ºç”Ÿç¢ºç‡ã¨ãƒªã‚¹ã‚¯è©•ä¾¡</p>
                    </div>
                    <div class="card">
                        <h4>ğŸ—ºï¸ åœ°å½¢ãƒ»åœ°è³ªè§£æ</h4>
                        <p>æ¨™é«˜ãƒ»å‚¾æ–œãƒ»åœ°è³ªæ§‹é€ ã®è§£æã€æµåŸŸãƒ»æ°´ç³»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€åœŸåœ°åˆ©ç”¨å¤‰åŒ–æ¤œå‡º</p>
                    </div>
                    <div class="card">
                        <h4>ğŸ“Š GISçµ±åˆåˆ†æ</h4>
                        <p>å¤šå±¤ãƒ‡ãƒ¼ã‚¿é‡ã­åˆã‚ã›ã€ç©ºé–“çµ±è¨ˆè§£æã€ãƒªãƒ¢ãƒ¼ãƒˆã‚»ãƒ³ã‚·ãƒ³ã‚°ç”»åƒå‡¦ç†</p>
                    </div>
                    <div class="card">
                        <h4>ğŸ“ˆ ã‚·ãƒŠãƒªã‚ªè©•ä¾¡</h4>
                        <p>æ¸©å®¤åŠ¹æœã‚¬ã‚¹å‰Šæ¸›ã‚·ãƒŠãƒªã‚ªã€é©å¿œç­–åŠ¹æœã€é˜²ç½ãƒ»æ¸›ç½å¯¾ç­–ã®è²»ç”¨ä¾¿ç›Šåˆ†æ</p>
                    </div>
                    <div class="card">
                        <h4>ğŸ“ æ•™è‚²æ”¯æ´</h4>
                        <p>æ®µéšçš„å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ã€å®Ÿç¿’ãƒ»æ¼”ç¿’ãƒ¢ãƒ¼ãƒ‰ã€è¦–è¦šçš„ç†è§£ä¿ƒé€²</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h3>ğŸ¯ ä¸»è¦æ©Ÿèƒ½</h3>
                <div class="grid">
                    <div class="info-panel">
                        <h4>ğŸ”¥ æ¸©å®¤åŠ¹æœã‚¬ã‚¹æ¿ƒåº¦</h4>
                        <p>ç¾åœ¨ã®COâ‚‚æ¿ƒåº¦: <strong>425 ppm</strong></p>
                        <p>ç”£æ¥­é©å‘½å‰æ¯”: <strong>+52%</strong></p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="info-panel">
                        <h4>ğŸŒ¡ï¸ å…¨çƒå¹³å‡æ°—æ¸©ä¸Šæ˜‡</h4>
                        <p>ç¾åœ¨ã®ä¸Šæ˜‡: <strong>+1.2Â°C</strong></p>
                        <p>2100å¹´äºˆæ¸¬: <strong>+2.8Â°C</strong></p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                    </div>
                    <div class="info-panel">
                        <h4>ğŸŒŠ æµ·é¢ä¸Šæ˜‡</h4>
                        <p>20ä¸–ç´€ä¸Šæ˜‡: <strong>17 cm</strong></p>
                        <p>2100å¹´äºˆæ¸¬: <strong>+65 cm</strong></p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 70%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ°—å€™å¤‰å‹•ã‚¿ãƒ– -->
        <div id="climate" class="content">
            <div class="section">
                <h3>ğŸŒ¡ï¸ æ°—å€™å¤‰å‹•ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h3>
                
                <div class="controls">
                    <div class="control-group">
                        <label>æ¸©å®¤åŠ¹æœã‚¬ã‚¹ã‚·ãƒŠãƒªã‚ª</label>
                        <select id="ghgScenario">
                            <option value="ssp126">SSP1-2.6 (1.5â„ƒç›®æ¨™)</option>
                            <option value="ssp245" selected>SSP2-4.5 (ä¸­ä½ã‚·ãƒŠãƒªã‚ª)</option>
                            <option value="ssp370">SSP3-7.0 (é«˜æ’å‡º)</option>
                            <option value="ssp585">SSP5-8.5 (æœ€é«˜æ’å‡º)</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>äºˆæ¸¬æœŸé–“</label>
                        <select id="timePeriod">
                            <option value="2030">2030å¹´ã¾ã§</option>
                            <option value="2050" selected>2050å¹´ã¾ã§</option>
                            <option value="2100">2100å¹´ã¾ã§</option>
                        </select>
                    </div>
                    <button onclick="runClimateSimulation()">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ</button>
                </div>

                <div class="visualization">
                    <canvas id="climateChart" width="800" height="400"></canvas>
                    <p>æ°—æ¸©ãƒ»é™æ°´é‡å¤‰åŒ–äºˆæ¸¬ã‚°ãƒ©ãƒ•</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h4>ğŸŒ¡ï¸ æ¸©åº¦å¤‰åŒ–</h4>
                        <div class="slider-container">
                            <label>COâ‚‚æ¿ƒåº¦ (ppm): <span class="slider-value" id="co2Value">425</span></label>
                            <input type="range" id="co2Slider" min="350" max="800" value="425" onchange="updateClimateModel()" />
                        </div>
                        <div class="info-panel">
                            <p>äºˆæ¸¬æ¸©åº¦ä¸Šæ˜‡: <span id="tempIncrease">+1.8Â°C</span></p>
                            <p>å½±éŸ¿è©•ä¾¡: <span id="tempImpact">ä¸­ç¨‹åº¦ãƒªã‚¹ã‚¯</span></p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸŒŠ æµ·é¢ä¸Šæ˜‡</h4>
                        <div class="slider-container">
                            <label>æ°·åºŠèè§£ç‡ (%): <span class="slider-value" id="iceValue">15</span></label>
                            <input type="range" id="iceSlider" min="0" max="50" value="15" onchange="updateSeaLevel()" />
                        </div>
                        <div class="info-panel">
                            <p>äºˆæ¸¬æµ·é¢ä¸Šæ˜‡: <span id="seaLevelRise">45 cm</span></p>
                            <p>æ²¿å²¸å½±éŸ¿: <span id="coastalImpact">3å„„äºº</span></p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>â˜” é™æ°´ãƒ‘ã‚¿ãƒ¼ãƒ³</h4>
                        <div class="info-panel">
                            <p>æ¥µç«¯é™æ°´å¢—åŠ : <strong>+25%</strong></p>
                            <p>å¹²ã°ã¤é »åº¦: <strong>+40%</strong></p>
                            <p>å­£ç¯€å¤‰å‹•: <strong>+15%</strong></p>
                        </div>
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #1976d2"></div>
                                <span>å¢—åŠ </span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #d32f2f"></div>
                                <span>æ¸›å°‘</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert info">
                    <strong>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ:</strong> ç¾åœ¨ã®æ’å‡ºå‚¾å‘ãŒç¶šãã¨ã€2050å¹´ã¾ã§ã«å…¨çƒå¹³å‡æ°—æ¸©ã¯ç”£æ¥­é©å‘½å‰æ¯”+2.1Â°Cä¸Šæ˜‡ã—ã€æµ·é¢ã¯38cmä¸Šæ˜‡ã™ã‚‹ã¨äºˆæ¸¬ã•ã‚Œã¾ã™ã€‚
                </div>
            </div>
        </div>

        <!-- ç½å®³äºˆæ¸¬ã‚¿ãƒ– -->
        <div id="disaster" class="content">
            <div class="section">
                <h3>âš¡ è‡ªç„¶ç½å®³ãƒªã‚¹ã‚¯è©•ä¾¡</h3>
                
                <div class="controls">
                    <div class="control-group">
                        <label>ç½å®³ç¨®åˆ¥</label>
                        <select id="disasterType" onchange="updateDisasterModel()">
                            <option value="earthquake">åœ°éœ‡ãƒ»æ´¥æ³¢</option>
                            <option value="typhoon">å°é¢¨ãƒ»è±ªé›¨</option>
                            <option value="flood">æ´ªæ°´ãƒ»æ°¾æ¿«</option>
                            <option value="landslide">åœŸç ‚ç½å®³</option>
                            <option value="volcano">ç«å±±å™´ç«</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>ç¢ºç‡å¹´</label>
                        <select id="returnPeriod">
                            <option value="10">10å¹´ç¢ºç‡</option>
                            <option value="50">50å¹´ç¢ºç‡</option>
                            <option value="100" selected>100å¹´ç¢ºç‡</option>
                            <option value="500">500å¹´ç¢ºç‡</option>
                        </select>
                    </div>
                    <button onclick="calculateDisasterRisk()">ãƒªã‚¹ã‚¯è¨ˆç®—</button>
                </div>

                <div class="visualization">
                    <canvas id="disasterMap" width="800" height="500"></canvas>
                    <p>ç½å®³ãƒªã‚¹ã‚¯ãƒãƒƒãƒ—</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h4>ğŸ  åœ°éœ‡ãƒªã‚¹ã‚¯</h4>
                        <div class="slider-container">
                            <label>ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: <span class="slider-value" id="magnitudeValue">7.0</span></label>
                            <input type="range" id="magnitudeSlider" min="5.0" max="9.0" step="0.1" value="7.0" onchange="updateEarthquakeModel()" />
                        </div>
                        <div class="info-panel">
                            <p>æœ€å¤§éœ‡åº¦: <span id="maxIntensity">éœ‡åº¦6å¼·</span></p>
                            <p>å»ºç‰©è¢«å®³ç‡: <span id="buildingDamage">15%</span></p>
                            <p>äººçš„è¢«å®³: <span id="casualties">450äºº</span></p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸŒ€ å°é¢¨ãƒªã‚¹ã‚¯</h4>
                        <div class="slider-container">
                            <label>ä¸­å¿ƒæ°—åœ§ (hPa): <span class="slider-value" id="pressureValue">950</span></label>
                            <input type="range" id="pressureSlider" min="900" max="1000" value="950" onchange="updateTyphoonModel()" />
                        </div>
                        <div class="info-panel">
                            <p>æœ€å¤§é¢¨é€Ÿ: <span id="maxWind">45 m/s</span></p>
                            <p>é«˜æ½®é«˜: <span id="stormSurge">2.8 m</span></p>
                            <p>å½±éŸ¿ç¯„å›²: <span id="affectedArea">åŠå¾„200km</span></p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸ’§ æ´ªæ°´ãƒªã‚¹ã‚¯</h4>
                        <div class="info-panel">
                            <p>æµ¸æ°´æ·±: <strong>æœ€å¤§5.2m</strong></p>
                            <p>æµ¸æ°´é¢ç©: <strong>850 kmÂ²</strong></p>
                            <p>é¿é›£å¯¾è±¡: <strong>12ä¸‡äºº</strong></p>
                        </div>
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #ffeb3b"></div>
                                <span>0.5mæœªæº€</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #ff9800"></div>
                                <span>0.5-3.0m</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #f44336"></div>
                                <span>3.0mä»¥ä¸Š</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert warning">
                    <strong>è­¦å‘Š:</strong> æ°—å€™å¤‰å‹•ã«ã‚ˆã‚Šæ¥µç«¯æ°—è±¡ã®é »åº¦ãƒ»å¼·åº¦ãŒå¢—åŠ å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚å¾“æ¥ã®ç¢ºç‡è©•ä¾¡ã‚’è¦‹ç›´ã—ã€é©å¿œç­–ã®å¼·åŒ–ãŒå¿…è¦ã§ã™ã€‚
                </div>
            </div>
        </div>

        <!-- åœ°å½¢è§£æã‚¿ãƒ– -->
        <div id="terrain" class="content">
            <div class="section">
                <h3>ğŸ—ºï¸ åœ°å½¢ãƒ»åœ°è³ªè§£æ</h3>
                
                <div class="controls">
                    <div class="control-group">
                        <label>è§£æå¯¾è±¡</label>
                        <select id="terrainAnalysis">
                            <option value="elevation">æ¨™é«˜ãƒ»å‚¾æ–œ</option>
                            <option value="watershed">æµåŸŸãƒ»æ°´ç³»</option>
                            <option value="geology">åœ°è³ªæ§‹é€ </option>
                            <option value="landuse">åœŸåœ°åˆ©ç”¨</option>
                            <option value="geomorphology">åœ°å½¢åˆ†é¡</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>è§£æç¯„å›²</label>
                        <select id="analysisArea">
                            <option value="local">å±€åœ° (10kmÃ—10km)</option>
                            <option value="regional" selected>åœ°åŸŸ (100kmÃ—100km)</option>
                            <option value="national">å…¨å›½</option>
                        </select>
                    </div>
                    <button onclick="analyzeterrain()">åœ°å½¢è§£æå®Ÿè¡Œ</button>
                </div>

                <div class="visualization">
                    <canvas id="terrainMap" width="800" height="600"></canvas>
                    <p>åœ°å½¢è§£æçµæœãƒãƒƒãƒ—</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h4>ğŸ“ æ¨™é«˜çµ±è¨ˆ</h4>
                        <table class="data-table">
                            <tr><th>é …ç›®</th><th>å€¤</th></tr>
                            <tr><td>æœ€é«˜æ¨™é«˜</td><td id="maxElevation">1,456 m</td></tr>
                            <tr><td>æœ€ä½æ¨™é«˜</td><td id="minElevation">12 m</td></tr>
                            <tr><td>å¹³å‡æ¨™é«˜</td><td id="avgElevation">324 m</td></tr>
                            <tr><td>æ¨™æº–åå·®</td><td id="elevationStd">Â±185 m</td></tr>
                        </table>
                    </div>
                    <div class="card">
                        <h4>ğŸ“ å‚¾æ–œåˆ†æ</h4>
                        <div class="info-panel">
                            <p>å¹³å¦åœ° (0-5Â°): <strong>45%</strong></p>
                            <p>ç·©æ–œé¢ (5-15Â°): <strong>32%</strong></p>
                            <p>æ€¥æ–œé¢ (15-30Â°): <strong>18%</strong></p>
                            <p>æ€¥å³»åœ° (30Â°+): <strong>5%</strong></p>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 77%"></div>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸŒŠ æµåŸŸè§£æ</h4>
                        <div class="slider-container">
                            <label>é›†æ°´é¢ç©é–¾å€¤ (kmÂ²): <span class="slider-value" id="watershedValue">10</span></label>
                            <input type="range" id="watershedSlider" min="1" max="100" value="10" onchange="updateWatershed()" />
                        </div>
                        <div class="info-panel">
                            <p>æŠ½å‡ºæµåŸŸæ•°: <span id="basinCount">24</span></p>
                            <p>æœ€å¤§æµåŸŸé¢ç©: <span id="maxBasin">156 kmÂ²</span></p>
                            <p>æ²³å·ç·å»¶é•·: <span id="riverLength">387 km</span></p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>ğŸª¨ åœ°è³ªãƒ»åœŸå£Œæƒ…å ±</h3>
                    <div class="grid">
                        <div class="card">
                            <h4>å²©çŸ³ç¨®åˆ¥åˆ†å¸ƒ</h4>
                            <div class="legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #8d6e63"></div>
                                    <span>èŠ±å´—å²© (35%)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #607d8b"></div>
                                    <span>å †ç©å²© (42%)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #e53935"></div>
                                    <span>ç«å±±å²© (23%)</span>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <h4>åœŸå£Œã‚¿ã‚¤ãƒ—</h4>
                            <div class="info-panel">
                                <p>è¤è‰²æ£®æ—åœŸ: <strong>48%</strong></p>
                                <p>é»’è‰²åœŸ: <strong>28%</strong></p>
                                <p>ç°è‰²ä½åœ°åœŸ: <strong>15%</strong></p>
                                <p>ãã®ä»–: <strong>9%</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- GISçµ±åˆã‚¿ãƒ– -->
        <div id="gis" class="content">
            <div class="section">
                <h3>ğŸ“Š GISçµ±åˆåˆ†æ</h3>
                
                <div class="controls">
                    <div class="control-group">
                        <label>ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†</label>
                        <div>
                            <label><input type="checkbox" id="elevationLayer" checked onchange="toggleLayer('elevation')"> æ¨™é«˜</label><br>
                            <label><input type="checkbox" id="slopeLayer" onchange="toggleLayer('slope')"> å‚¾æ–œ</label><br>
                            <label><input type="checkbox" id="landcoverLayer" onchange="toggleLayer('landcover')"> åœŸåœ°è¢«è¦†</label><br>
                            <label><input type="checkbox" id="populationLayer" onchange="toggleLayer('population')"> äººå£å¯†åº¦</label><br>
                            <label><input type="checkbox" id="infrastructureLayer" onchange="toggleLayer('infrastructure')"> ã‚¤ãƒ³ãƒ•ãƒ©</label>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>ç©ºé–“è§£æ</label>
                        <select id="spatialAnalysis">
                            <option value="buffer">ãƒãƒƒãƒ•ã‚¡è§£æ</option>
                            <option value="overlay">é‡ã­åˆã‚ã›è§£æ</option>
                            <option value="network">ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è§£æ</option>
                            <option value="interpolation">ç©ºé–“è£œé–“</option>
                            <option value="clustering">ã‚¯ãƒ©ã‚¹ã‚¿åˆ†æ</option>
                        </select>
                    </div>
                    <button onclick="performSpatialAnalysis()">è§£æå®Ÿè¡Œ</button>
                </div>

                <div class="visualization">
                    <canvas id="gisMap" width="800" height="600"></canvas>
                    <p>å¤šå±¤ãƒ‡ãƒ¼ã‚¿çµ±åˆè¡¨ç¤º</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h4>ğŸ›°ï¸ ãƒªãƒ¢ãƒ¼ãƒˆã‚»ãƒ³ã‚·ãƒ³ã‚°</h4>
                        <div class="controls">
                            <div class="control-group">
                                <label>è¡›æ˜Ÿãƒ‡ãƒ¼ã‚¿</label>
                                <select id="satelliteData">
                                    <option value="landsat">Landsat-8</option>
                                    <option value="sentinel">Sentinel-2</option>
                                    <option value="modis">MODIS</option>
                                    <option value="himawari">ã²ã¾ã‚ã‚Š8å·</option>
                                </select>
                            </div>
                            <button onclick="processSatelliteImage()">ç”»åƒå‡¦ç†</button>
                        </div>
                        <div class="info-panel">
                            <p>è§£åƒåº¦: <span id="resolution">30m</span></p>
                            <p>æ’®å½±æ—¥: <span id="acquisitionDate">2024-07-15</span></p>
                            <p>é›²è¢«è¦†ç‡: <span id="cloudCover">8%</span></p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸ“ˆ æ¤ç”ŸæŒ‡æ•°</h4>
                        <div class="slider-container">
                            <label>NDVIé–¾å€¤: <span class="slider-value" id="ndviValue">0.3</span></label>
                            <input type="range" id="ndviSlider" min="0" max="1" step="0.1" value="0.3" onchange="updateNDVI()" />
                        </div>
                        <div class="info-panel">
                            <p>æ¤ç”ŸåŸŸ: <span id="vegetationArea">65%</span></p>
                            <p>è¾²åœ°: <span id="croplandArea">25%</span></p>
                            <p>éƒ½å¸‚åŸŸ: <span id="urbanArea">10%</span></p>
                        </div>
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #4caf50"></div>
                                <span>é«˜æ¤ç”Ÿ</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #8bc34a"></div>
                                <span>ä¸­æ¤ç”Ÿ</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #cddc39"></div>
                                <span>ä½æ¤ç”Ÿ</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #607d8b"></div>
                                <span>éæ¤ç”Ÿ</span>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸ™ï¸ åœŸåœ°åˆ©ç”¨å¤‰åŒ–</h4>
                        <div class="controls">
                            <div class="control-group">
                                <label>æ¯”è¼ƒæœŸé–“</label>
                                <select id="changeDetection">
                                    <option value="5year">éå»5å¹´</option>
                                    <option value="10year" selected>éå»10å¹´</option>
                                    <option value="20year">éå»20å¹´</option>
                                </select>
                            </div>
                        </div>
                        <div class="info-panel">
                            <p>æ£®æ—æ¸›å°‘: <strong>-5.2%</strong></p>
                            <p>éƒ½å¸‚æ‹¡å¤§: <strong>+12.8%</strong></p>
                            <p>è¾²åœ°è»¢ç”¨: <strong>-3.1%</strong></p>
                            <p>æ°´åŸŸå¤‰åŒ–: <strong>+0.8%</strong></p>
                        </div>
                    </div>
                </div>

                <div class="alert info">
                    <strong>çµ±è¨ˆæƒ…å ±:</strong> ç©ºé–“è§£æã«ã‚ˆã‚Šã€éå»10å¹´é–“ã§éƒ½å¸‚åŸŸãŒ12.8%æ‹¡å¤§ã—ã€æ£®æ—ãŒ5.2%æ¸›å°‘ã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚
                </div>
            </div>
        </div>

        <!-- ã‚·ãƒŠãƒªã‚ªã‚¿ãƒ– -->
        <div id="scenarios" class="content">
            <div class="section">
                <h3>ğŸ“ˆ ã‚·ãƒŠãƒªã‚ªåˆ†æãƒ»æ”¿ç­–è©•ä¾¡</h3>
                
                <div class="scenario-builder">
                    <h4>ã‚·ãƒŠãƒªã‚ªæ§‹ç¯‰</h4>
                    <div class="parameter-grid">
                        <div class="control-group">
                            <label>COâ‚‚å‰Šæ¸›ç›®æ¨™ (%)</label>
                            <input type="number" id="co2Reduction" value="50" min="0" max="100">
                        </div>
                        <div class="control-group">
                            <label>å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¯”ç‡ (%)</label>
                            <input type="number" id="renewableEnergy" value="60" min="0" max="100">
                        </div>
                        <div class="control-group">
                            <label>æ£®æ—ä¿è­·é¢ç© (ä¸‡ha)</label>
                            <input type="number" id="forestProtection" value="200" min="0" max="1000">
                        </div>
                        <div class="control-group">
                            <label>é˜²ç½ã‚¤ãƒ³ãƒ•ãƒ©æŠ•è³‡ (å…†å††)</label>
                            <input type="number" id="disasterInvestment" value="10" min="0" max="50">
                        </div>
                    </div>
                    <button onclick="buildScenario()">ã‚·ãƒŠãƒªã‚ªç”Ÿæˆ</button>
                </div>

                <div class="visualization">
                    <canvas id="scenarioChart" width="800" height="400"></canvas>
                    <p>ã‚·ãƒŠãƒªã‚ªæ¯”è¼ƒã‚°ãƒ©ãƒ•</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h4>ğŸ¯ 2030å¹´ç›®æ¨™</h4>
                        <div class="info-panel">
                            <p>æ¸©å®¤åŠ¹æœã‚¬ã‚¹å‰Šæ¸›: <strong>46%æ¸›</strong></p>
                            <p>å†ã‚¨ãƒæ¯”ç‡: <strong>36-38%</strong></p>
                            <p>é”æˆç¢ºç‡: <span id="target2030">75%</span></p>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 75%"></div>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸ† 2050å¹´ç›®æ¨™</h4>
                        <div class="info-panel">
                            <p>ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«: <strong>å®Ÿè³ªã‚¼ãƒ­</strong></p>
                            <p>å†ã‚¨ãƒæ¯”ç‡: <strong>50-60%</strong></p>
                            <p>é”æˆç¢ºç‡: <span id="target2050">60%</span></p>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸ’° è²»ç”¨ä¾¿ç›Šåˆ†æ</h4>
                        <table class="data-table">
                            <tr><th>é …ç›®</th><th>è²»ç”¨</th><th>ä¾¿ç›Š</th></tr>
                            <tr><td>ç·©å’Œç­–</td><td>150å…†å††</td><td>280å…†å††</td></tr>
                            <tr><td>é©å¿œç­–</td><td>80å…†å††</td><td>350å…†å††</td></tr>
                            <tr><td>é˜²ç½å¯¾ç­–</td><td>50å…†å††</td><td>200å…†å††</td></tr>
                        </table>
                        <p><strong>ç·ä¾¿ç›Šæ¯”:</strong> 2.9 (æŠ•è³‡åŠ¹æœã¯é«˜ã„)</p>
                    </div>
                </div>

                <div class="section">
                    <h3>ğŸŒ å›½éš›æ¯”è¼ƒ</h3>
                    <div class="grid">
                        <div class="card">
                            <h4>ä¸»ìš”å›½ã®å‰Šæ¸›ç›®æ¨™</h4>
                            <table class="data-table">
                                <tr><th>å›½</th><th>2030å¹´ç›®æ¨™</th><th>2050å¹´ç›®æ¨™</th></tr>
                                <tr><td>æ—¥æœ¬</td><td>-46%</td><td>ãƒãƒƒãƒˆã‚¼ãƒ­</td></tr>
                                <tr><td>ç±³å›½</td><td>-50%</td><td>ãƒãƒƒãƒˆã‚¼ãƒ­</td></tr>
                                <tr><td>EU</td><td>-55%</td><td>ãƒãƒƒãƒˆã‚¼ãƒ­</td></tr>
                                <tr><td>ä¸­å›½</td><td>-18%</td><td>2060å¹´</td></tr>
                            </table>
                        </div>
                        <div class="card">
                            <h4>æŠ€è¡“å°å…¥ã‚·ãƒŠãƒªã‚ª</h4>
                            <div class="info-panel">
                                <p>æ°´ç´ ç¤¾ä¼šå®Ÿç¾: <strong>2030å¹´ä»£</strong></p>
                                <p>CCSå¤§è¦æ¨¡å°å…¥: <strong>2040å¹´ä»£</strong></p>
                                <p>æ ¸èåˆå®Ÿç”¨åŒ–: <strong>2050å¹´ä»£</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ•™è‚²ã‚¿ãƒ– -->
        <div id="education" class="content">
            <div class="section">
                <h3>ğŸ“ åœ°çƒç§‘å­¦æ•™è‚²ã‚·ã‚¹ãƒ†ãƒ </h3>
                
                <div class="controls">
                    <div class="control-group">
                        <label>å­¦ç¿’ãƒ¬ãƒ™ãƒ«</label>
                        <select id="learningLevel">
                            <option value="beginner">åˆç´š (ä¸­å­¦ç”Ÿ)</option>
                            <option value="intermediate" selected>ä¸­ç´š (é«˜æ ¡ç”Ÿ)</option>
                            <option value="advanced">ä¸Šç´š (å¤§å­¦ç”Ÿ)</option>
                            <option value="expert">å°‚é–€ (ç ”ç©¶è€…)</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</label>
                        <select id="learningMode">
                            <option value="theory">ç†è«–å­¦ç¿’</option>
                            <option value="simulation" selected>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</option>
                            <option value="case_study">äº‹ä¾‹ç ”ç©¶</option>
                            <option value="lab">å®Ÿç¿’ãƒ»æ¼”ç¿’</option>
                        </select>
                    </div>
                    <button onclick="startLearning()">å­¦ç¿’é–‹å§‹</button>
                </div>

                <div class="grid">
                    <div class="card">
                        <h4>ğŸŒ åœ°çƒã‚·ã‚¹ãƒ†ãƒ ç†è§£</h4>
                        <div class="info-panel">
                            <p><strong>å­¦ç¿’ç›®æ¨™:</strong> å¤§æ°—ãƒ»æµ·æ´‹ãƒ»é™¸é¢ãƒ»æ°·åœã®ç›¸äº’ä½œç”¨ç†è§£</p>
                            <p><strong>é€²æ—åº¦:</strong> 65%</p>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%"></div>
                            </div>
                            <p><strong>æ¬¡ã®èª²é¡Œ:</strong> ã‚¨ãƒ«ãƒ‹ãƒ¼ãƒ‹ãƒ§ãƒ»ãƒ©ãƒ‹ãƒ¼ãƒ‹ãƒ£ç¾è±¡</p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>âš¡ è‡ªç„¶ç½å®³ãƒ¡ã‚«ãƒ‹ã‚ºãƒ </h4>
                        <div class="info-panel">
                            <p><strong>å­¦ç¿’ç›®æ¨™:</strong> åœ°éœ‡ãƒ»æ´¥æ³¢ãƒ»å°é¢¨ãƒ»ç«å±±ã®ç™ºç”ŸåŸç†</p>
                            <p><strong>é€²æ—åº¦:</strong> 45%</p>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%"></div>
                            </div>
                            <p><strong>æ¬¡ã®èª²é¡Œ:</strong> ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ†ã‚¯ãƒˆãƒ‹ã‚¯ã‚¹</p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸ—ºï¸ GISãƒ»ãƒªãƒ¢ãƒ¼ãƒˆã‚»ãƒ³ã‚·ãƒ³ã‚°</h4>
                        <div class="info-panel">
                            <p><strong>å­¦ç¿’ç›®æ¨™:</strong> ç©ºé–“ãƒ‡ãƒ¼ã‚¿è§£æãƒ»è¡›æ˜Ÿç”»åƒå‡¦ç†</p>
                            <p><strong>é€²æ—åº¦:</strong> 80%</p>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 80%"></div>
                            </div>
                            <p><strong>æ¬¡ã®èª²é¡Œ:</strong> æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹åˆ†é¡</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>ğŸ“š å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h3>
                    <div class="grid">
                        <div class="card">
                            <h4>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å®Ÿé¨“</h4>
                            <div class="controls">
                                <button onclick="runExperiment('greenhouse')">æ¸©å®¤åŠ¹æœå®Ÿé¨“</button>
                                <button onclick="runExperiment('earthquake')">åœ°éœ‡æ³¢ä¼æ’­å®Ÿé¨“</button>
                                <button onclick="runExperiment('weather')">æ°—è±¡äºˆæ¸¬å®Ÿé¨“</button>
                            </div>
                            <div id="experimentArea" class="info-panel" style="min-height: 150px;">
                                <p>å®Ÿé¨“ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
                            </div>
                        </div>
                        <div class="card">
                            <h4>ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£</h4>
                            <div class="info-panel">
                                <p><strong>æ±æ—¥æœ¬å¤§éœ‡ç½ (2011)</strong></p>
                                <p>M9.0ã®å·¨å¤§åœ°éœ‡ã¨æ´¥æ³¢ã«ã‚ˆã‚‹è¤‡åˆç½å®³</p>
                                <button onclick="loadCaseStudy('tohoku2011')">è©³ç´°å­¦ç¿’</button>
                            </div>
                            <div class="info-panel">
                                <p><strong>ä»¤å’Œå…ƒå¹´æ±æ—¥æœ¬å°é¢¨ (2019)</strong></p>
                                <p>æ¸©æš–åŒ–ã«ã‚ˆã‚‹å°é¢¨ã®å¤§å‹åŒ–ã¨è¨˜éŒ²çš„è±ªé›¨</p>
                                <button onclick="loadCaseStudy('hagibis2019')">è©³ç´°å­¦ç¿’</button>
                            </div>
                        </div>
                        <div class="card">
                            <h4>ğŸ¤– AIå­¦ç¿’æ”¯æ´</h4>
                            <div class="info-panel">
                                <p><strong>è³ªå•:</strong> åœ°çƒæ¸©æš–åŒ–ã®ä¸»è¦å› ã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                                <textarea id="studentQuestion" placeholder="è³ªå•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" style="width: 100%; height: 60px; margin: 10px 0;"></textarea>
                                <button onclick="askAI()">AIåŠ©æ‰‹ã«è³ªå•</button>
                            </div>
                            <div id="aiResponse" class="info-panel" style="display: none;">
                                <p><strong>AIå›ç­”:</strong> <span id="aiAnswerText"></span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert info">
                    <strong>å­¦ç¿’ã‚¬ã‚¤ãƒ‰:</strong> å„ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸæ®µéšçš„å­¦ç¿’ã«ã‚ˆã‚Šã€åœ°çƒç§‘å­¦ã®åŸºç¤ã‹ã‚‰æœ€æ–°ç ”ç©¶ã¾ã§ä½“ç³»çš„ã«ç¿’å¾—ã§ãã¾ã™ã€‚
                </div>
            </div>
        </div>

        <!-- ãƒ‡ãƒ¼ã‚¿åˆ†æã‚¿ãƒ– -->
        <div id="analysis" class="content">
            <div class="section">
                <h3>ğŸ“Š çµ±è¨ˆåˆ†æãƒ»ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ‹ãƒ³ã‚°</h3>
                
                <div class="controls">
                    <div class="control-group">
                        <label>ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ</label>
                        <select id="datasetSelect">
                            <option value="climate">æ°—å€™è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿</option>
                            <option value="disaster">ç½å®³å±¥æ­´ãƒ‡ãƒ¼ã‚¿</option>
                            <option value="satellite">è¡›æ˜Ÿè¦³æ¸¬ãƒ‡ãƒ¼ã‚¿</option>
                            <option value="socioeconomic">ç¤¾ä¼šçµŒæ¸ˆãƒ‡ãƒ¼ã‚¿</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>åˆ†ææ‰‹æ³•</label>
                        <select id="analysisMethod">
                            <option value="trend">ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ</option>
                            <option value="correlation">ç›¸é–¢åˆ†æ</option>
                            <option value="regression">å›å¸°åˆ†æ</option>
                            <option value="clustering">ã‚¯ãƒ©ã‚¹ã‚¿åˆ†æ</option>
                            <option value="timeseries">æ™‚ç³»åˆ—åˆ†æ</option>
                        </select>
                    </div>
                    <button onclick="performAnalysis()">åˆ†æå®Ÿè¡Œ</button>
                </div>

                <div class="visualization">
                    <canvas id="analysisChart" width="800" height="400"></canvas>
                    <p>çµ±è¨ˆåˆ†æçµæœ</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h4>ğŸ“ˆ æ™‚ç³»åˆ—åˆ†æ</h4>
                        <div class="info-panel">
                            <p><strong>ãƒ‡ãƒ¼ã‚¿æœŸé–“:</strong> 1990-2024å¹´ (35å¹´é–“)</p>
                            <p><strong>ãƒˆãƒ¬ãƒ³ãƒ‰:</strong> +0.18Â°C/10å¹´</p>
                            <p><strong>å­£ç¯€æ€§:</strong> æ¤œå‡º (å¹´å‘¨æœŸ)</p>
                            <p><strong>ç•°å¸¸å€¤:</strong> 2023å¹´ (+2.1Ïƒ)</p>
                            <p><strong>äºˆæ¸¬ç²¾åº¦:</strong> RMSE = 0.8Â°C</p>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ğŸ”— ç›¸é–¢åˆ†æ</h4>
                        <table class="data-table">
                            <tr><th>å¤‰æ•°ãƒšã‚¢</th><th>ç›¸é–¢ä¿‚æ•°</th><th>på€¤</th></tr>
                            <tr><td>æ°—æ¸© vs COâ‚‚</td><td>0.89</td><td>&lt;0.001</td></tr>
                            <tr><td>é™æ°´é‡ vs æ°—æ¸©</td><td>0.34</td><td>0.02</td></tr>
                            <tr><td>å°é¢¨å¼·åº¦ vs æµ·æ°´æ¸©</td><td>0.72</td><td>&lt;0.001</td></tr>
                            <tr><td>ç½å®³é »åº¦ vs æ°—æ¸©</td><td>0.58</td><td>&lt;0.01</td></tr>
                        </table>
                    </div>
                    <div class="card">
                        <h4>ğŸ¯ æ©Ÿæ¢°å­¦ç¿’äºˆæ¸¬</h4>
                        <div class="controls">
                            <div class="control-group">
                                <label>äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«</label>
                                <select id="mlModel">
                                    <option value="lstm">LSTM (é•·çŸ­æœŸè¨˜æ†¶)</option>
                                    <option value="randomforest">ãƒ©ãƒ³ãƒ€ãƒ ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆ</option>
                                    <option value="svm">ã‚µãƒãƒ¼ãƒˆãƒ™ã‚¯ã‚¿ãƒ¼å›å¸°</option>
                                    <option value="xgboost">XGBoost</option>
                                </select>
                            </div>
                            <button onclick="trainModel()">ãƒ¢ãƒ‡ãƒ«è¨“ç·´</button>
                        </div>
                        <div class="info-panel">
                            <p><strong>è¨“ç·´ç²¾åº¦:</strong> RÂ² = 0.92</p>
                            <p><strong>æ¤œè¨¼ç²¾åº¦:</strong> RÂ² = 0.87</p>
                            <p><strong>ç‰¹å¾´é‡è¦åº¦:</strong> COâ‚‚æ¿ƒåº¦ (0.45), æµ·æ°´æ¸© (0.32)</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>ğŸŒ ç©ºé–“çµ±è¨ˆè§£æ</h3>
                    <div class="grid">
                        <div class="card">
                            <h4>ğŸ“ ãƒ›ãƒƒãƒˆã‚¹ãƒãƒƒãƒˆåˆ†æ</h4>
                            <div class="info-panel">
                                <p><strong>é«˜æ¸©ãƒ›ãƒƒãƒˆã‚¹ãƒãƒƒãƒˆ:</strong> éƒ½å¸‚éƒ¨+2.8Â°C</p>
                                <p><strong>è±ªé›¨ãƒ›ãƒƒãƒˆã‚¹ãƒãƒƒãƒˆ:</strong> å±±åœ°è¥¿å´+30%</p>
                                <p><strong>ç½å®³é›†ä¸­åŸŸ:</strong> æ²¿å²¸å¹³é‡éƒ¨</p>
                            </div>
                            <div class="legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #f44336"></div>
                                    <span>é«˜ãƒªã‚¹ã‚¯</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #ff9800"></div>
                                    <span>ä¸­ãƒªã‚¹ã‚¯</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #4caf50"></div>
                                    <span>ä½ãƒªã‚¹ã‚¯</span>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <h4>ğŸ—ºï¸ åœ°ç†åŠ é‡å›å¸°</h4>
                            <div class="info-panel">
                                <p><strong>å±€æ‰€RÂ²å¹³å‡:</strong> 0.78</p>
                                <p><strong>ç©ºé–“å¤‰å‹•:</strong> 0.12-0.94</p>
                                <p><strong>æœ‰æ„é ˜åŸŸ:</strong> 82%</p>
                                <p><strong>æœ€é«˜ç²¾åº¦åœ°åŸŸ:</strong> é–¢æ±å¹³é‡</p>
                            </div>
                        </div>
                        <div class="card">
                            <h4>ğŸ“Š ãƒ‡ãƒ¼ã‚¿å“è³ªè©•ä¾¡</h4>
                            <div class="info-panel">
                                <p><strong>å®Œå…¨æ€§:</strong> 96.5%</p>
                                <p><strong>æ­£ç¢ºæ€§:</strong> 98.2%</p>
                                <p><strong>æ•´åˆæ€§:</strong> 94.8%</p>
                                <p><strong>é©æ™‚æ€§:</strong> 99.1%</p>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 97%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert info">
                    <strong>åˆ†æçµæœ:</strong> éå»35å¹´é–“ã®æ°—å€™ãƒ‡ãƒ¼ã‚¿åˆ†æã«ã‚ˆã‚Šã€éƒ½å¸‚éƒ¨ã§ã®ãƒ’ãƒ¼ãƒˆã‚¢ã‚¤ãƒ©ãƒ³ãƒ‰ç¾è±¡ãŒ+2.8Â°Cã€è±ªé›¨é »åº¦ãŒå±±åœ°è¥¿å´ã§30%å¢—åŠ ã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚
                </div>
            </div>
        </div>
    </div>

    <script>
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
        function showTab(tabName) {
            // ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
            const contents = document.querySelectorAll('.content');
            contents.forEach(content => content.classList.remove('active'));
            
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // é¸æŠã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã‚¿ãƒ–ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // æ°—å€™å¤‰å‹•ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        function runClimateSimulation() {
            const scenario = document.getElementById('ghgScenario').value;
            const period = document.getElementById('timePeriod').value;
            
            const canvas = document.getElementById('climateChart');
            const ctx = canvas.getContext('2d');
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚¯ãƒªã‚¢
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // è»¸ã®æç”»
            drawAxes(ctx, canvas, 'å¹´', 'æ°—æ¸©ä¸Šæ˜‡ (Â°C)');
            
            // ã‚·ãƒŠãƒªã‚ªã«å¿œã˜ãŸäºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
            const years = [];
            const temperatures = [];
            const startYear = 2020;
            const endYear = parseInt(period);
            
            for (let year = startYear; year <= endYear; year += 5) {
                years.push(year);
                let temp = 1.2; // ç¾åœ¨ã®ä¸Šæ˜‡æ¸©åº¦
                const yearDiff = year - startYear;
                
                switch(scenario) {
                    case 'ssp126':
                        temp += yearDiff * 0.02; // 1.5Â°Cç›®æ¨™
                        break;
                    case 'ssp245':
                        temp += yearDiff * 0.035; // ä¸­ä½ã‚·ãƒŠãƒªã‚ª
                        break;
                    case 'ssp370':
                        temp += yearDiff * 0.05; // é«˜æ’å‡º
                        break;
                    case 'ssp585':
                        temp += yearDiff * 0.07; // æœ€é«˜æ’å‡º
                        break;
                }
                temperatures.push(temp);
            }
            
            // ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒƒãƒˆ
            plotData(ctx, canvas, years, temperatures, '#f44336', 'temperature');
            
            // çµæœã®æ›´æ–°
            updateClimateResults(scenario, period);
        }

        // æ°—å€™ãƒ¢ãƒ‡ãƒ«æ›´æ–°
        function updateClimateModel() {
            const co2Value = document.getElementById('co2Slider').value;
            document.getElementById('co2Value').textContent = co2Value;
            
            // æ¸©åº¦ä¸Šæ˜‡è¨ˆç®— (ç°¡æ˜“å¼)
            const tempIncrease = 1.2 + (co2Value - 425) * 0.003;
            document.getElementById('tempIncrease').textContent = '+' + tempIncrease.toFixed(1) + 'Â°C';
            
            // å½±éŸ¿è©•ä¾¡
            let impact = 'ä½ãƒªã‚¹ã‚¯';
            if (tempIncrease > 2.0) impact = 'é«˜ãƒªã‚¹ã‚¯';
            else if (tempIncrease > 1.5) impact = 'ä¸­ç¨‹åº¦ãƒªã‚¹ã‚¯';
            
            document.getElementById('tempImpact').textContent = impact;
        }

        // æµ·é¢ä¸Šæ˜‡æ›´æ–°
        function updateSeaLevel() {
            const iceValue = document.getElementById('iceSlider').value;
            document.getElementById('iceValue').textContent = iceValue;
            
            const seaLevel = 17 + iceValue * 2.1; // cm
            document.getElementById('seaLevelRise').textContent = seaLevel.toFixed(0) + ' cm';
            
            const population = Math.round(iceValue * 20 + 100); // ç™¾ä¸‡äºº
            document.getElementById('coastalImpact').textContent = population + 'ç™¾ä¸‡äºº';
        }

        // ç½å®³ãƒªã‚¹ã‚¯è¨ˆç®—
        function calculateDisasterRisk() {
            const disasterType = document.getElementById('disasterType').value;
            const returnPeriod = document.getElementById('returnPeriod').value;
            
            const canvas = document.getElementById('disasterMap');
            const ctx = canvas.getContext('2d');
            
            // ãƒªã‚¹ã‚¯ãƒãƒƒãƒ—æç”»
            drawDisasterMap(ctx, canvas, disasterType, returnPeriod);
        }

        function drawDisasterMap(ctx, canvas, type, period) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // æ—¥æœ¬åˆ—å³¶ã®ç°¡ç•¥å½¢çŠ¶
            ctx.fillStyle = '#2e7d32';
            ctx.fillRect(200, 100, 400, 300);
            
            // ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸè‰²åˆ†ã‘
            const riskColors = ['#4caf50', '#ffeb3b', '#ff9800', '#f44336'];
            const riskLevels = generateRiskData(type, period);
            
            for (let i = 0; i < riskLevels.length; i++) {
                ctx.fillStyle = riskColors[riskLevels[i]];
                const x = 220 + (i % 20) * 18;
                const y = 120 + Math.floor(i / 20) * 15;
                ctx.fillRect(x, y, 15, 12);
            }
            
            // å‡¡ä¾‹
            drawLegend(ctx, riskColors, ['ä½', 'ä¸­', 'é«˜', 'æ¥µé«˜']);
        }

        // åœ°éœ‡ãƒ¢ãƒ‡ãƒ«æ›´æ–°
        function updateEarthquakeModel() {
            const magnitude = parseFloat(document.getElementById('magnitudeSlider').value);
            document.getElementById('magnitudeValue').textContent = magnitude.toFixed(1);
            
            // éœ‡åº¦è¨ˆç®— (ç°¡æ˜“å¼)
            const intensity = Math.min(7, Math.round(magnitude - 0.5));
            const intensityText = ['éœ‡åº¦' + intensity + 'å¼±', 'éœ‡åº¦' + intensity + 'å¼·'];
            document.getElementById('maxIntensity').textContent = intensityText[Math.round(Math.random())];
            
            // è¢«å®³äºˆæ¸¬
            const damage = Math.round((magnitude - 5) * 8);
            document.getElementById('buildingDamage').textContent = Math.max(0, damage) + '%';
            
            const casualties = Math.round((magnitude - 6) * 200);
            document.getElementById('casualties').textContent = Math.max(0, casualties) + 'äºº';
        }

        // å°é¢¨ãƒ¢ãƒ‡ãƒ«æ›´æ–°
        function updateTyphoonModel() {
            const pressure = parseInt(document.getElementById('pressureSlider').value);
            document.getElementById('pressureValue').textContent = pressure;
            
            // é¢¨é€Ÿè¨ˆç®— (ç°¡æ˜“å¼)
            const windSpeed = Math.round((1000 - pressure) * 0.9);
            document.getElementById('maxWind').textContent = windSpeed + ' m/s';
            
            // é«˜æ½®è¨ˆç®—
            const stormSurge = ((1000 - pressure) * 0.01 + Math.random() * 1).toFixed(1);
            document.getElementById('stormSurge').textContent = stormSurge + ' m';
            
            // å½±éŸ¿ç¯„å›²
            const radius = Math.round(200 + (1000 - pressure) * 0.5);
            document.getElementById('affectedArea').textContent = 'åŠå¾„' + radius + 'km';
        }

        // åœ°å½¢è§£æ
        function analyzeTerrain() {
            const analysisType = document.getElementById('terrainAnalysis').value;
            const area = document.getElementById('analysisArea').value;
            
            const canvas = document.getElementById('terrainMap');
            const ctx = canvas.getContext('2d');
            
            drawTerrainMap(ctx, canvas, analysisType, area);
            updateTerrainStats(analysisType);
        }

        function drawTerrainMap(ctx, canvas, type, area) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // åœ°å½¢ã«å¿œã˜ãŸæç”»
            switch(type) {
                case 'elevation':
                    drawElevationMap(ctx, canvas);
                    break;
                case 'watershed':
                    drawWatershedMap(ctx, canvas);
                    break;
                case 'geology':
                    drawGeologyMap(ctx, canvas);
                    break;
                case 'landuse':
                    drawLanduseMap(ctx, canvas);
                    break;
                case 'geomorphology':
                    drawGeomorphologyMap(ctx, canvas);
                    break;
            }
        }

        function drawElevationMap(ctx, canvas) {
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#8d4e85'); // é«˜æ¨™é«˜ (ç´«)
            gradient.addColorStop(0.3, '#d73027'); // ä¸­æ¨™é«˜ (èµ¤)
            gradient.addColorStop(0.6, '#fdae61'); // ä½æ¨™é«˜ (ã‚ªãƒ¬ãƒ³ã‚¸)
            gradient.addColorStop(1, '#4575b4'); // æµ·é¢ (é’)
            
            ctx.fillStyle = gradient;
            ctx.fillRect(100, 50, 600, 500);
            
            // ç­‰é«˜ç·šé¢¨ã®ç·š
            ctx.strokeStyle = 'rgba(255,255,255,0.3)';
            ctx.lineWidth = 1;
            for (let i = 0; i < 10; i++) {
                ctx.beginPath();
                ctx.moveTo(100, 100 + i * 40);
                ctx.lineTo(700, 120 + i * 40);
                ctx.stroke();
            }
        }

        // æµåŸŸè§£ææ›´æ–°
        function updateWatershed() {
            const threshold = document.getElementById('watershedSlider').value;
            document.getElementById('watershedValue').textContent = threshold;
            
            // æµåŸŸæ•°è¨ˆç®—
            const basinCount = Math.round(50 - threshold * 0.8);
            document.getElementById('basinCount').textContent = basinCount;
            
            // æœ€å¤§æµåŸŸé¢ç©
            const maxBasin = Math.round(100 + threshold * 8);
            document.getElementById('maxBasin').textContent = maxBasin + ' kmÂ²';
            
            // æ²³å·å»¶é•·
            const riverLength = Math.round(300 + threshold * 12);
            document.getElementById('riverLength').textContent = riverLength + ' km';
        }

        // GISç©ºé–“è§£æ
        function performSpatialAnalysis() {
            const analysisType = document.getElementById('spatialAnalysis').value;
            
            const canvas = document.getElementById('gisMap');
            const ctx = canvas.getContext('2d');
            
            drawGISAnalysis(ctx, canvas, analysisType);
        }

        function drawGISAnalysis(ctx, canvas, type) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ãƒ™ãƒ¼ã‚¹ãƒãƒƒãƒ—
            ctx.fillStyle = '#e8f5e8';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«å¿œã˜ãŸæç”»
            if (document.getElementById('elevationLayer').checked) {
                drawElevationLayer(ctx, canvas);
            }
            if (document.getElementById('landcoverLayer').checked) {
                drawLandcoverLayer(ctx, canvas);
            }
            if (document.getElementById('populationLayer').checked) {
                drawPopulationLayer(ctx, canvas);
            }
        }

        function drawElevationLayer(ctx, canvas) {
            const gradient = ctx.createRadialGradient(400, 300, 50, 400, 300, 200);
            gradient.addColorStop(0, 'rgba(139,69,19,0.8)'); // å±±åœ°
            gradient.addColorStop(1, 'rgba(139,69,19,0.1)'); // å¹³åœ°
            
            ctx.fillStyle = gradient;
            ctx.fillRect(200, 100, 400, 400);
        }

        // ãƒ¬ã‚¤ãƒ¤ãƒ¼è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
        function toggleLayer(layerName) {
            // ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è¡¨ç¤ºãƒ»éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
            performSpatialAnalysis(); // å†æç”»
        }

        // è¡›æ˜Ÿç”»åƒå‡¦ç†
        function processSatelliteImage() {
            const satellite = document.getElementById('satelliteData').value;
            
            // è§£åƒåº¦è¨­å®š
            let resolution;
            switch(satellite) {
                case 'landsat': resolution = '30m'; break;
                case 'sentinel': resolution = '10m'; break;
                case 'modis': resolution = '250m'; break;
                case 'himawari': resolution = '1km'; break;
            }
            
            document.getElementById('resolution').textContent = resolution;
            document.getElementById('acquisitionDate').textContent = '2024-07-' + (Math.floor(Math.random() * 28) + 1);
            document.getElementById('cloudCover').textContent = Math.floor(Math.random() * 20) + '%';
        }

        // NDVIæ›´æ–°
        function updateNDVI() {
            const ndvi = parseFloat(document.getElementById('ndviSlider').value);
            document.getElementById('ndviValue').textContent = ndvi.toFixed(1);
            
            // æ¤ç”ŸåŸŸè¨ˆç®—
            const vegetation = Math.round(100 - ndvi * 50);
            document.getElementById('vegetationArea').textContent = vegetation + '%';
            
            const cropland = Math.round(ndvi * 40);
            document.getElementById('croplandArea').textContent = cropland + '%';
            
            const urban = Math.round(100 - vegetation - cropland);
            document.getElementById('urbanArea').textContent = Math.max(0, urban) + '%';
        }

        // ã‚·ãƒŠãƒªã‚ªç”Ÿæˆ
        function buildScenario() {
            const co2Reduction = document.getElementById('co2Reduction').value;
            const renewableEnergy = document.getElementById('renewableEnergy').value;
            const forestProtection = document.getElementById('forestProtection').value;
            const disasterInvestment = document.getElementById('disasterInvestment').value;
            
            // 2030å¹´ç›®æ¨™é”æˆç¢ºç‡è¨ˆç®—
            let probability2030 = 50;
            probability2030 += (co2Reduction - 46) * 2;
            probability2030 += (renewableEnergy - 36) * 1.5;
            probability2030 = Math.max(0, Math.min(100, Math.round(probability2030)));
            
            // 2050å¹´ç›®æ¨™é”æˆç¢ºç‡è¨ˆç®—
            let probability2050 = 40;
            probability2050 += (co2Reduction - 50) * 1.5;
            probability2050 += (renewableEnergy - 50) * 1.2;
            probability2050 += (forestProtection - 200) * 0.1;
            probability2050 = Math.max(0, Math.min(100, Math.round(probability2050)));
            
            document.getElementById('target2030').textContent = probability2030 + '%';
            document.getElementById('target2050').textContent = probability2050 + '%';
            
            // ã‚°ãƒ©ãƒ•æ›´æ–°
            drawScenarioChart();
        }

        // å­¦ç¿’é–‹å§‹
        function startLearning() {
            const level = document.getElementById('learningLevel').value;
            const mode = document.getElementById('learningMode').value;
            
            let message = `${level}ãƒ¬ãƒ™ãƒ«ã®${mode}ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚`;
            
            switch(mode) {
                case 'theory':
                    message += 'åŸºç¤ç†è«–ã‹ã‚‰å­¦ç¿’ã—ã¾ã™ã€‚';
                    break;
                case 'simulation':
                    message += 'ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§å­¦ç¿’ã—ã¾ã™ã€‚';
                    break;
                case 'case_study':
                    message += 'å®Ÿéš›ã®äº‹ä¾‹ã‹ã‚‰å­¦ç¿’ã—ã¾ã™ã€‚';
                    break;
                case 'lab':
                    message += 'å®Ÿç¿’å½¢å¼ã§å­¦ç¿’ã—ã¾ã™ã€‚';
                    break;
            }
            
            alert(message);
        }

        // å®Ÿé¨“å®Ÿè¡Œ
        function runExperiment(type) {
            const area = document.getElementById('experimentArea');
            
            switch(type) {
                case 'greenhouse':
                    area.innerHTML = `
                        <h4>ğŸŒ¡ï¸ æ¸©å®¤åŠ¹æœå®Ÿé¨“</h4>
                        <p>COâ‚‚æ¿ƒåº¦ã‚’å¤‰æ›´ã—ã¦æ¸©åº¦å¤‰åŒ–ã‚’è¦³å¯Ÿ:</p>
                        <input type="range" min="280" max="800" value="415" onchange="updateGreenhouseExp(this.value)">
                        <p>ç¾åœ¨ã®COâ‚‚æ¿ƒåº¦: <span id="expCO2">415</span> ppm</p>
                        <p>æ¸©åº¦ä¸Šæ˜‡: <span id="expTemp">+1.2</span>Â°C</p>
                    `;
                    break;
                case 'earthquake':
                    area.innerHTML = `
                        <h4>âš¡ åœ°éœ‡æ³¢ä¼æ’­å®Ÿé¨“</h4>
                        <p>éœ‡æºã‹ã‚‰ã®è·é›¢ã«ã‚ˆã‚‹éœ‡åº¦å¤‰åŒ–:</p>
                        <canvas id="seismicCanvas" width="300" height="200" style="border: 1px solid #fff;"></canvas>
                        <button onclick="simulateSeismic()">åœ°éœ‡ç™ºç”Ÿ</button>
                    `;
                    break;
                case 'weather':
                    area.innerHTML = `
                        <h4>ğŸŒ¦ï¸ æ°—è±¡äºˆæ¸¬å®Ÿé¨“</h4>
                        <p>æ°—åœ§é…ç½®ã‹ã‚‰å¤©æ°—ã‚’äºˆæ¸¬:</p>
                        <p>é«˜æ°—åœ§: ğŸŒ æ™´ã‚Œ</p>
                        <p>ä½æ°—åœ§: â˜” é›¨</p>
                        <p>å‰ç·š: â›ˆï¸ é›·é›¨</p>
                    `;
                    break;
            }
        }

        // AIè³ªå•
        function askAI() {
            const question = document.getElementById('studentQuestion').value;
            const responseArea = document.getElementById('aiResponse');
            const answerText = document.getElementById('aiAnswerText');
            
            if (!question.trim()) {
                alert('è³ªå•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            // ç°¡å˜ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¿œç­”ã‚·ã‚¹ãƒ†ãƒ 
            let answer = '';
            if (question.includes('æ¸©æš–åŒ–') || question.includes('æ°—å€™å¤‰å‹•')) {
                answer = 'åœ°çƒæ¸©æš–åŒ–ã®ä¸»è¦å› ã¯äººé–“æ´»å‹•ã«ã‚ˆã‚‹æ¸©å®¤åŠ¹æœã‚¬ã‚¹ï¼ˆCOâ‚‚ã€CHâ‚„ã€Nâ‚‚Oç­‰ï¼‰ã®æ’å‡ºå¢—åŠ ã§ã™ã€‚ç”£æ¥­é©å‘½ä»¥é™ã€åŒ–çŸ³ç‡ƒæ–™ã®ç‡ƒç„¼ã«ã‚ˆã‚Šå¤§æ°—ä¸­ã®COâ‚‚æ¿ƒåº¦ãŒç´„50%å¢—åŠ ã—ã€ã“ã‚ŒãŒåœ°çƒã®å¹³å‡æ°—æ¸©ã‚’1.2Â°Cä¸Šæ˜‡ã•ã›ã¦ã„ã¾ã™ã€‚';
            } else if (question.includes('åœ°éœ‡')) {
                answer = 'åœ°éœ‡ã¯åœ°çƒå†…éƒ¨ã®ãƒ—ãƒ¬ãƒ¼ãƒˆã®å‹•ãã«ã‚ˆã£ã¦ç™ºç”Ÿã—ã¾ã™ã€‚æ—¥æœ¬ã¯4ã¤ã®ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆå¤ªå¹³æ´‹ã€ãƒ•ã‚£ãƒªãƒ”ãƒ³æµ·ã€åŒ—ç±³ã€ãƒ¦ãƒ¼ãƒ©ã‚·ã‚¢ï¼‰ã®å¢ƒç•Œã«ä½ç½®ã™ã‚‹ãŸã‚ã€åœ°éœ‡æ´»å‹•ãŒæ´»ç™ºã§ã™ã€‚';
            } else if (question.includes('å°é¢¨')) {
                answer = 'å°é¢¨ã¯ç†±å¸¯æµ·ä¸Šã§ç™ºç”Ÿã™ã‚‹ä½æ°—åœ§ã§ã™ã€‚æµ·æ°´æ¸©26Â°Cä»¥ä¸Šã®æµ·åŸŸã§ç™ºç”Ÿã—ã€ã‚³ãƒªã‚ªãƒªã®åŠ›ã«ã‚ˆã‚Šæ¸¦ã‚’å·»ãã¾ã™ã€‚è¿‘å¹´ã€æ¸©æš–åŒ–ã«ã‚ˆã‚Šå°é¢¨ã®å¤§å‹åŒ–ãƒ»å¼·å¤§åŒ–ãŒæ‡¸å¿µã•ã‚Œã¦ã„ã¾ã™ã€‚';
            } else {
                answer = 'ãã®è³ªå•ã«ã¤ã„ã¦è©³ã—ãå­¦ç¿’ã™ã‚‹ã«ã¯ã€è©²å½“ã™ã‚‹ã‚¿ãƒ–ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚ã‚ˆã‚Šå…·ä½“çš„ãªè³ªå•ã‚’ã—ã¦ã„ãŸã ã‘ã‚Œã°ã€è©³ç´°ãªå›ç­”ãŒå¯èƒ½ã§ã™ã€‚';
            }
            
            answerText.textContent = answer;
            responseArea.style.display = 'block';
        }

        // ãƒ‡ãƒ¼ã‚¿åˆ†æå®Ÿè¡Œ
        function performAnalysis() {
            const dataset = document.getElementById('datasetSelect').value;
            const method = document.getElementById('analysisMethod').value;
            
            const canvas = document.getElementById('analysisChart');
            const ctx = canvas.getContext('2d');
            
            drawAnalysisChart(ctx, canvas, dataset, method);
        }

        // æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«è¨“ç·´
        function trainModel() {
            const model = document.getElementById('mlModel').value;
            
            let message = `${model}ãƒ¢ãƒ‡ãƒ«ã®è¨“ç·´ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚\n`;
            
            switch(model) {
                case 'lstm':
                    message += 'é•·çŸ­æœŸè¨˜æ†¶ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§æ™‚ç³»åˆ—äºˆæ¸¬ã‚’å­¦ç¿’ä¸­...';
                    break;
                case 'randomforest':
                    message += 'ãƒ©ãƒ³ãƒ€ãƒ ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆã§ç‰¹å¾´é‡é‡è¦åº¦ã‚’è¨ˆç®—ä¸­...';
                    break;
                case 'svm':
                    message += 'ã‚µãƒãƒ¼ãƒˆãƒ™ã‚¯ã‚¿ãƒ¼å›å¸°ã§éç·šå½¢é–¢ä¿‚ã‚’å­¦ç¿’ä¸­...';
                    break;
                case 'xgboost':
                    message += 'XGBoostã§å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’å®Ÿè¡Œä¸­...';
                    break;
            }
            
            alert(message);
        }

        // å…±é€šæç”»é–¢æ•°
        function drawAxes(ctx, canvas, xLabel, yLabel) {
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            
            // Xè»¸
            ctx.beginPath();
            ctx.moveTo(80, canvas.height - 80);
            ctx.lineTo(canvas.width - 50, canvas.height - 80);
            ctx.stroke();
            
            // Yè»¸
            ctx.beginPath();
            ctx.moveTo(80, 50);
            ctx.lineTo(80, canvas.height - 80);
            ctx.stroke();
            
            // ãƒ©ãƒ™ãƒ«
            ctx.fillStyle = '#fff';
            ctx.font = '14px Arial';
            ctx.fillText(xLabel, canvas.width - 100, canvas.height - 20);
            ctx.fillText(yLabel, 20, 40);
        }

        function plotData(ctx, canvas, xData, yData, color, label) {
            ctx.strokeStyle = color;
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            const xScale = (canvas.width - 130) / (xData.length - 1);
            const yScale = (canvas.height - 130) / (Math.max(...yData) - Math.min(...yData));
            
            for (let i = 0; i < xData.length; i++) {
                const x = 80 + i * xScale;
                const y = canvas.height - 80 - (yData[i] - Math.min(...yData)) * yScale;
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, 2 * Math.PI);
                ctx.fill();
            }
            ctx.stroke();
        }

        function drawLegend(ctx, colors, labels) {
            const startX = 50;
            const startY = 50;
            
            for (let i = 0; i < colors.length; i++) {
                ctx.fillStyle = colors[i];
                ctx.fillRect(startX, startY + i * 25, 20, 15);
                
                ctx.fillStyle = '#fff';
                ctx.font = '12px Arial';
                ctx.fillText(labels[i], startX + 30, startY + i * 25 + 12);
            }
        }

        // ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆé–¢æ•°
        function generateRiskData(type, period) {
            const data = [];
            for (let i = 0; i < 400; i++) {
                let risk = Math.floor(Math.random() * 4);
                
                // ç½å®³ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸãƒªã‚¹ã‚¯åˆ†å¸ƒ
                switch(type) {
                    case 'earthquake':
                        if (i % 20 < 5) risk = Math.min(3, risk + 1); // æ²¿å²¸éƒ¨é«˜ãƒªã‚¹ã‚¯
                        break;
                    case 'typhoon':
                        if (i < 200) risk = Math.min(3, risk + 1); // å—éƒ¨é«˜ãƒªã‚¹ã‚¯
                        break;
                    case 'flood':
                        if (i % 20 > 15) risk = Math.min(3, risk + 1); // æ²³å·æ²¿ã„é«˜ãƒªã‚¹ã‚¯
                        break;
                }
                
                data.push(risk);
            }
            return data;
        }

        // ã‚°ãƒ©ãƒ•æç”»é–¢æ•°
        function drawScenarioChart() {
            const canvas = document.getElementById('scenarioChart');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            drawAxes(ctx, canvas, 'å¹´', 'COâ‚‚å‰Šæ¸›ç‡ (%)');
            
            const years = [2020, 2030, 2040, 2050];
            const baseline = [0, 20, 35, 50];
            const enhanced = [0, 46, 70, 100];
            
            plotData(ctx, canvas, years, baseline, '#ff9800', 'ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³');
            plotData(ctx, canvas, years, enhanced, '#4caf50', 'å¼·åŒ–ã‚·ãƒŠãƒªã‚ª');
        }

        function drawAnalysisChart(ctx, canvas, dataset, method) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            switch(method) {
                case 'trend':
                    drawTrendChart(ctx, canvas, dataset);
                    break;
                case 'correlation':
                    drawCorrelationChart(ctx, canvas, dataset);
                    break;
                case 'timeseries':
                    drawTimeseriesChart(ctx, canvas, dataset);
                    break;
                default:
                    drawAxes(ctx, canvas, 'æ™‚é–“', 'å€¤');
                    break;
            }
        }

        function drawTrendChart(ctx, canvas, dataset) {
            drawAxes(ctx, canvas, 'å¹´', 'å€¤');
            
            const years = [];
            const values = [];
            
            for (let year = 1990; year <= 2024; year += 2) {
                years.push(year);
                values.push(15 + (year - 1990) * 0.18 + Math.random() * 3 - 1.5);
            }
            
            plotData(ctx, canvas, years, values, '#2196f3', dataset);
        }

        // åˆæœŸåŒ–
        function initializeApp() {
            // åˆæœŸå€¤è¨­å®š
            updateClimateModel();
            updateSeaLevel();
            updateEarthquakeModel();
            updateTyphoonModel();
            updateWatershed();
            updateNDVI();
            
            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ£ãƒ¼ãƒˆæç”»
            setTimeout(() => {
                runClimateSimulation();
                calculateDisasterRisk();
                analyzeTerrain();
                performSpatialAnalysis();
                buildScenario();
                performAnalysis();
            }, 1000);
        }

        // ã‚¢ãƒ—ãƒªåˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>